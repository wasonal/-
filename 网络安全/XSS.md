# XSS跨站脚本攻击
## 原理
恶意攻击者利用网站没有对用户提交数据进行转义处理或者过滤不足的缺点，进而添加一些代码，嵌入到web页面中去。使别的用户访问都会执行相应的嵌入代码。
## 分类
### 非持久型
举例子
1. 有一个使用get请求的搜索接口url，url后会加上搜索关键词，且关键词会显示到搜索后的页面
2. 黑客A给B发送恶意链接，并在该url后加上一段自己的恶意脚本
3. B在浏览器访问该url后，这段在url后的script就会执行

**防御**：此类 XSS 通常出现在网站的搜索栏、用户登录口等地方，需要后端对html，css，JavaScript进行过滤
### 持久型
举例子
1.有一个博客可以进行评论
2.黑客A发表用script标签包裹的代码
3.发布成功后每一个访问该该页面的用户都会自动执行这段代码
**危害**
>* 盗取cookie
>* Dos攻击
>* 使用js或css破坏页面结构或样式

**防御**：1.过滤事件的标签 2.对cookie设置httpOnly，客户端就无法通过document.cookie来获取cookie 3.移除用户上传的dom属性或节点